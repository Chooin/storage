"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={use:"lcoal",pre:"",strict:!0,expire:null},t=function(e){return Object.prototype.toString.call(e)};if("[object String]"===t(e))e={use:"s"===e&&"session"===e&&"sessionStorage"===e?"s":r.use,pre:r.pre,strict:r.strict,expire:r.expire};else{if("[object Object]"!==t(e))throw new Error("Wrong storage option");var o=e.use,n=e.pre,s=e.strict,i=e.expire;e={use:"s"===o&&"session"===o&&"sessionStorage"===o?"s":r.use,pre:"[object String]"===t(n)?n:r.pre,strict:"[object boolean]"===t(s)?s:r.strict,expire:"[object Number]"===t(s)?i:r.expire}}var c=window.localStorage,a=window.sessionStorage,l="s"===e.use?a:c,p=function(r,o){r?(r=""+e.pre+r,"[object Undefined]"===t(o)||"[object Null]"===t(o)?l.removeItem(r):e.strict?l.setItem(r,JSON.stringify({data:o,expire:e.expire,type:t(o)})):"[object String]"===t(o)||"[object Number]"===t(o)?l.setItem(r,o):l.setItem(r,JSON.stringify(o))):console.warn("Wrong set storage")},u=function(r){r?l.removeItem(""+e.pre+r):console.warn("Wrong remove storage")};return{get:function(r){if(r){if(r=""+e.pre+r,e.strict){var t=l.getItem(r);if(t){if(t.expire&&t.expire>(new Date).getTime()||null===t.expire)return JSON.parse(t).data;l.removeItem(r)}return null}try{return JSON.parse(l.getItem(r))}catch(e){return l.getItem(r)}}else console.warn("Wrong get storage")},set:function(e,r){if(e)if("[object Array]"===t(e))for(var o in e)p(e[o].key,e[o].value);else p(e,r);else console.warn("Wrong set storage")},remove:function(e){if(e)if("[object Array]"===t(e))for(var r in e)u(e[r]);else u(e);else console.warn("Wrong remove storage")},clear:function(){if(e.pre){for(var r=0;r<c.length;r++)0===c.key(r).indexOf(e.pre)&&u(c.key(r));for(var t=0;t<a.length;t++)0===a.key(t).indexOf(e.pre)&&u(a.key(t))}else a.clear(),c.clear()}}};