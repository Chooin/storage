"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={use:"lcoal",pre:"",strict:!1},t=function(e){return Object.prototype.toString.call(e).split(" ")[1].replace("]","")};if("string"==typeof e)e={use:"s"===e&&"session"===e&&"sessionStorage"===e?"s":r.use,pre:r.pre,strict:r.strict};else{if("Object"!==t(e))throw new Error("Wrong storage option");var s=e.use,o=e.pre,n=e.strict;e={use:"s"===s&&"session"===s&&"sessionStorage"===s?"s":r.use,pre:"string"==typeof o?o:r.pre,strict:"Undefined"===t(n)?r.strict:!!n}}var i=window.localStorage,a=window.sessionStorage,c="s"===e.use?a:i,l=function(r,s){r?(r=""+e.pre+r,"Undefined"===t(s)||"Null"===t(s)?c.removeItem(r):e.strict?c.setItem(r,JSON.stringify({data:s,type:t(s)})):"String"===t(s)||"Number"===t(s)?c.setItem(r,s):c.setItem(r,JSON.stringify(s))):console.warn("Wrong set storage")},f=function(r){r?c.removeItem(""+e.pre+r):console.warn("Wrong remove storage")};return{get:function(r){if(r){if(r=""+e.pre+r,e.strict){var t=c.getItem(r);return t?JSON.parse(t).data:null}try{return JSON.parse(c.getItem(r))}catch(e){return c.getItem(r)}}else console.warn("Wrong get storage")},set:function(e,r){if(e)if("Array"===t(e))for(var s in e)l(e[s].key,e[s].value);else l(e,r);else console.warn("Wrong set storage")},remove:function(e){if(e)if("Array"===t(e))for(var r in e)f(e[r]);else f(e);else console.warn("Wrong remove storage")},clear:function(){if(e.pre){for(var r=0;r<i.length;r++)0===i.key(r).indexOf(e.pre)&&f(i.key(r));for(var t=0;t<a.length;t++)0===a.key(t).indexOf(e.pre)&&f(a.key(t))}else a.clear(),i.clear()}}};